{% extends "layout.html" %}

{% block content %}
<div
    class="flex flex-col h-full w-full max-w-5xl mx-auto overflow-hidden bg-background-light dark:bg-background-dark pb-32">
    <!-- Header -->
    <div class="flex items-center px-6 pt-6 pb-4 justify-between">
        <h1 class="text-3xl font-extrabold tracking-tight dark:text-white capitalize">Erfolge</h1>
    </div>

    <!-- Achievements Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 px-6 overflow-y-auto">
        {% for ach in achievements %}
        <div class="relative overflow-hidden rounded-3xl p-6 flex items-center gap-6 
            {% if ach.earned %}
                bg-surface-light dark:bg-surface-dark border border-primary/20 shadow-[0_4px_20px_-4px_rgba(19,236,91,0.15)]
            {% else %}
                bg-gray-100 dark:bg-gray-800/50 border border-transparent opacity-70 grayscale
            {% endif %}
            transition-all duration-300 group hover:scale-[1.02]">

            <!-- Icon -->
            <div class="shrink-0 size-16 rounded-2xl flex items-center justify-center
                {% if ach.earned %}
                    bg-gradient-to-br from-primary to-[#0eb545] text-background-dark shadow-lg shadow-primary/30
                {% else %}
                    bg-gray-300 dark:bg-gray-700 text-gray-500
                {% endif %}">
                <span class="material-symbols-outlined text-4xl leading-none">{{ ach.icon }}</span>
            </div>

            <!-- Content -->
            <div class="flex flex-col flex-1 min-w-0">
                <div class="flex justify-between items-start">
                    <h3 class="font-bold text-lg dark:text-white leading-tight mb-1">{{ ach.title }}</h3>
                    {% if ach.earned %}
                    <span
                        class="text-xs font-bold text-primary bg-primary/10 px-2 py-1 rounded-lg uppercase tracking-wider shrink-0 ml-2">
                        Erreicht
                    </span>
                    {% else %}
                    <span
                        class="text-xs font-bold text-gray-400 bg-black/5 dark:bg-white/5 px-2 py-1 rounded-lg uppercase tracking-wider shrink-0 ml-2">
                        Gesperrt
                    </span>
                    {% endif %}
                </div>
                <p class="text-sm text-gray-500 dark:text-gray-400 font-medium leading-normal">{{ ach.description }}</p>

                {% if ach.earned and ach.date %}
                <p class="text-xs text-primary/80 font-bold mt-3 flex items-center gap-1">
                    <span class="material-symbols-outlined text-sm">event</span>
                    {{ ach.date.strftime('%d.%m.%Y') }}
                </p>
                {% endif %}
            </div>

            {% if not ach.earned %}
            <div class="absolute inset-0 bg-white/5 dark:bg-black/10 pointer-events-none"></div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}